# Promptman v0 - 記事作成補助ツール

## 🎯 コンセプト

**Promptmanは記事を生成しません。**  
記事を生成させる『設計』を提供します。

問題は「AIの性能」ではなく、「何を書かせるべきか」が曖昧だからです。

---

## 📁 ディレクトリ構造

```
promptman-v0/
├── public/              # フロントエンド
│   ├── index.php        # メイン画面
│   ├── style.css        # スタイル
│   └── script.js        # UI制御
├── api/                 # バックエンドAPI
│   ├── analyze.php      # 意図解析API
│   ├── generate.php     # プロンプト生成API
│   └── config.php       # 共通設定
├── lib/                 # コアロジック
│   ├── IntentAnalyzer.php    # 意図解析（★核心）
│   ├── PromptBuilder.php     # プロンプト構築
│   ├── MediaRules.php        # 媒体別ルール
│   └── utilities.php         # ユーティリティ
├── data/                # 設定・定義
│   ├── media_rules.json      # note/Zenn/X ルール
│   └── intent_types.json     # 三択定義
└── storage/             # セッション保存
    └── .gitkeep
```

---

## 🚀 セットアップ

### 必要要件

- PHP 7.4 以上
- ローカルサーバー（PHP内蔵サーバーでOK）

### インストール

```bash
# 1. プロジェクトをクローン/ダウンロード
cd promptman-v0

# 2. storage ディレクトリに書き込み権限を付与
chmod 755 storage

# 3. PHP内蔵サーバーで起動
php -S localhost:8000 -t public

# 4. ブラウザで開く
# http://localhost:8000
```

---

## 📝 使い方

### ユーザーフロー

```
Phase 0: 媒体選択 + テーマ入力
  ↓
Phase 1: 意図解析 → 三択提示
  「このテーマは次のどれで進めるのが適切そうです。どれを採用しますか?」
  1. 体験共有型（実務ログ寄り）
  2. 設計・考え方整理型
  3. 問題提起・視点提供型
  ↓
Phase 2: 構成確認
  「この構成で進めて良いですか？」
  ↓
Phase 3: 実行用プロンプト出力
  ❌ 記事本文ではない
  ✅ ユーザーが無料ChatGPTに貼るプロンプト
```

---

## 🎯 設計思想

### 1. プロンプトを実行しない

Promptmanは、プロンプトを実行せず、**実行用プロンプトを生成するだけ**です。

- APIコストゼロ
- ユーザー主導
- AI依存に見えない

### 2. 媒体別ルールの厳密な適用

note / Zenn / X で、語調・構成・禁止事項が完全に異なります。

| 媒体 | 語調 | 構成 | 読者想定 |
|:---|:---|:---|:---|
| **note** | 柔らかい・体験ベース | 体験→気づき→思考 | AI初心者〜関心層 |
| **Zenn** | 簡潔・断定的 | 課題→解決→実装 | 技術者・実務者 |
| **X** | 短文・フック重視 | 問題提起→気づき→余韻 | 情報感度が高い人 |

### 3. Agentic な振る舞い

- 構成案を勝手に決めない
- 必ず「この構成で進めて良いか」を確認
- ユーザーの承認後のみプロンプト生成

---

## 🛠️ カスタマイズ

### 媒体ルールの編集

`data/media_rules.json` を編集してください。

```json
{
  "note": {
    "tone": {
      "sentence_length": "medium",
      "assertiveness": "low"
    },
    "forbid": [
      "aggressive_claims",
      "strong_calls_to_action"
    ]
  }
}
```

### 三択の変更

`data/intent_types.json` を編集してください。

---

## 📊 ハッカソン向けデモ

### オープニング台本（30秒）

```
「Promptmanは記事を生成しません。
 記事を生成させる『設計』を提供します。

 なぜなら、問題は『AIの性能』ではなく
 『何を書かせるべきか』が曖昧だからです」
```

### デモシナリオ（5分）

1. **媒体選択**: Zenn
2. **テーマ入力**: 「AIの設定を見直したら業務が楽になった話」
3. **三択提示**: 「設計・考え方整理型」を選択
4. **構成確認**: 「この構成で進めますか？」→ Yes
5. **最終出力**: 実行用プロンプト（コピー可能）

審査員に見せるポイント:
> 「これをChatGPT無料版に貼るだけで、note版とは全く異なるZenn技術記事が生成されます」

---

## 🔧 トラブルシューティング

### セッションエラーが出る

```bash
# storage ディレクトリの権限を確認
chmod 755 storage
```

### JSON読み込みエラー

```bash
# data/*.json ファイルの存在を確認
ls -la data/
```

---

## 📈 今後のロードマップ

### v0（本ハッカソン）
- ✅ 記事作成特化
- ✅ プロンプト非実行設計
- ✅ 段階的な方向性選択のUX検証

### v1
- 履歴保存（Pro向け）
- 再編集フロー追加
- 実用化への切り替え

### v2
- 用途拡張（企画書・提案書）
- チーム共有機能

---

## 📄 ライセンス

MIT License

---

**作成日**: 2026年2月10日  
**バージョン**: v0（ハッカソン用MVP）
